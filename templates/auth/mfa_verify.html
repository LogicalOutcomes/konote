{% load i18n %}
{% load static %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% trans "Verify Identity" %} â€” {{ site.product_name|default:"KoNote" }}</title>
    <link rel="icon" href="{% static 'img/favicon.svg' %}" type="image/svg+xml">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <link rel="stylesheet" href="{% static 'css/theme.css' %}">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>
<body>
    <main class="container" style="max-width: 420px; margin-top: 10vh;">
        <h1>{% trans "Verify your identity" %}</h1>
        <p>{% trans "Enter the 6-digit code from your authenticator app." %}</p>

        {% if error %}
        <article aria-label="error" style="border-left: 4px solid var(--kn-danger-fg); background: var(--kn-danger-bg); padding: var(--kn-space-sm) var(--kn-space-base);">
            {{ error }}
        </article>
        {% endif %}

        <form method="post">
            {% csrf_token %}
            <label for="id_code">{% trans "Verification code" %}</label>
            {{ form.code }}
            {% if form.code.errors %}
            <small class="error">{{ form.code.errors.0 }}</small>
            {% endif %}
            <button type="submit">{% trans "Verify" %}</button>
        </form>

        <p><small>{% trans "You can also enter a backup code if you have lost access to your authenticator app." %}</small></p>
        <p><a href="{% url 'auth_app:login' %}">{% trans "Back to sign in" %}</a></p>
    </main>
</body>
</html>
