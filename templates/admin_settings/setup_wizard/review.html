{% extends "admin_settings/setup_wizard/_wizard_base.html" %}
{% load i18n %}

{% block wizard_content %}
<h2>{% trans "Step 8: Review & Apply" %}</h2>
<p>{% trans "Review your configuration before applying it to the system." %}</p>

{% if preview %}
<figure>
<table role="grid" aria-label="{% trans 'Configuration preview' %}">
    <thead>
        <tr>
            <th scope="col">{% trans "Section" %}</th>
            <th scope="col">{% trans "Summary" %}</th>
        </tr>
    </thead>
    <tbody>
        {% for section, summary in preview.items %}
        <tr>
            <td><strong>{{ section }}</strong></td>
            <td>{{ summary }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
</figure>
{% endif %}

<details>
    <summary>{% trans "Raw configuration (JSON)" %}</summary>
    <pre><code>{{ wizard_data_json }}</code></pre>
</details>

<form method="post">
    {% csrf_token %}

    <div class="wizard-nav">
        <a href="{% url 'admin_settings:setup_wizard_step' step='custom_fields' %}" role="button" class="outline">&larr; {% trans "Back" %}</a>
        <span class="spacer"></span>
        <button type="submit" class="contrast">{% trans "Apply Configuration" %}</button>
    </div>
</form>
{% endblock %}
