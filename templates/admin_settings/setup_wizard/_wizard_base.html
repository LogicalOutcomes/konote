{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Setup Wizard" %} â€” {{ site.product_name|default:"KoNote" }}{% endblock %}

{% block extra_head %}
<style>
    .wizard-steps {
        display: flex;
        flex-wrap: wrap;
        gap: 0.25rem;
        list-style: none;
        padding: 0;
        margin-bottom: 2rem;
    }
    .wizard-steps li {
        padding: 0.375rem 0.75rem;
        border-radius: var(--pico-border-radius);
        font-size: 0.8125rem;
        border: 1px solid var(--pico-muted-border-color);
        background: transparent;
        color: var(--kn-text);
    }
    .wizard-steps li.current {
        border-color: var(--pico-primary);
        font-weight: bold;
    }
    .wizard-steps li.completed {
        border-color: var(--pico-primary);
        opacity: 0.7;
    }
    .wizard-steps li .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }
    .wizard-nav {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
        align-items: center;
    }
    .wizard-nav .spacer {
        flex: 1;
    }
    .repeatable-group {
        border: 1px solid var(--pico-muted-border-color);
        border-radius: var(--pico-border-radius);
        padding: 1rem;
        margin-bottom: 1rem;
    }
    .add-btn {
        background: transparent;
        border: 1px dashed var(--pico-muted-border-color);
        color: var(--kn-text);
        cursor: pointer;
        padding: 0.5rem 1rem;
        border-radius: var(--pico-border-radius);
        width: 100%;
    }
    .add-btn:hover {
        border-color: var(--pico-primary);
    }
</style>
{% endblock %}

{% block content %}
<hgroup>
    <h1>{% trans "Setup Wizard" %}</h1>
    <p>{% trans "Configure your KoNote instance step by step." %}</p>
</hgroup>

<nav aria-label="{% trans 'Wizard progress' %}">
    <ol class="wizard-steps" role="list">
        {% for step in steps %}
        <li{% if step.is_current %} class="current" aria-current="step"{% elif step.is_completed %} class="completed"{% endif %}>
            {{ step.number }}. {{ step.label }}
            {% if step.is_completed %}<span class="sr-only">{% trans "(completed)" %}</span>{% endif %}
        </li>
        {% endfor %}
    </ol>
</nav>

{% block wizard_content %}{% endblock %}
{% endblock %}
